<?php
/**
 * @author    Extly CB https://www.extly.com
 * @copyright Copyright (C) 2007 - 2018 Extly, CB
 * @copyright Copyright (C) 2005 - 2015 Open Source Matters, Inc. All rights reserved.
 * @license   GNU/GPLv2 and later
 *
 * http://www.gnu.org/licenses/gpl-2.0.html
 */
defined('_JEXEC') or die;

// Gantry Specific Module Chrome
function modChrome_gantry($module, &$params, &$attribs)
{
    $moduleTag = $params->get('module_tag', 'div');
    $headerTag = htmlspecialchars($params->get('header_tag', 'h3'), ENT_COMPAT | ENT_SUBSTITUTE, 'UTF-8');
    $bootstrapSize = (int) $params->get('bootstrap_size', 0);
    $moduleClass = 0 !== $bootstrapSize ? ' span'.$bootstrapSize : '';

    // Temporarily store header class in variable
    $headerClass = $params->get('header_class', 'g-title');
    $headerClass = ($headerClass) ? ' class="'.htmlspecialchars($headerClass, ENT_COMPAT | ENT_SUBSTITUTE, 'UTF-8').'"' : '';

    if (!empty($module->content)) {
        ?>
		<<?php echo $moduleTag; ?> class="moduletable <?php echo htmlspecialchars($params->get('moduleclass_sfx'), ENT_COMPAT | ENT_SUBSTITUTE, 'UTF-8').$moduleClass; ?>">
			<?php if ((bool) $module->showtitle) {
            ?>
				<<?php echo $headerTag.$headerClass.'>'.$module->title; ?></<?php echo $headerTag; ?>>
			<?php
        } ?>
			<?php echo $module->content; ?>
		</<?php echo $moduleTag; ?>>
	<?php
    }
}
